/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
  id "com.google.protobuf" version "0.8.7"
//  id 'ca.coglinc.javacc'
}

dependencies {
    compile project(':container-dependency-versions:parent:document')
    testCompile 'junit:junit:4.12'
    compileOnly 'com.google.guava:guava:20.0'
    compileOnly 'com.fasterxml.jackson.core:jackson-core:2.8.11'
    compileOnly 'com.fasterxml.jackson.core:jackson-databind:2.8.11.2'
    compileOnly 'com.google.protobuf:protobuf-java:3.7.0'
    providedCompile project(':container-dependency-versions:parent:vespajlib')
    providedCompile project(':container-dependency-versions:parent:config-model-api')

   //javacc 'net.java.dev.javacc:javacc:7.0.3'
   //javacc 'com.helger:parser-generator-cc:1.0.2'
}

description = 'searchlib'

compileJava.dependsOn generateConfigurationsTask(
        "${projectDir}/src/vespa/searchlib",
        "${buildDir}/generated-sources/configgen/")


//compileJavacc {
//    inputDirectory = file("${projectDir}/src/main/javacc")
//    outputDirectory = file("${buildDir}/generated/javacc")
//}

sourceSets {
  main {
    proto {
     srcDir 'src/protobuf'
    }
  }
}

//compileJava.dependsOn compileJavacc
