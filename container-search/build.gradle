/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
  id 'antlr'
}

dependencies {
    compile 'commons-collections:commons-collections:3.2.1'
    compile 'commons-lang:commons-lang:2.6'
    compile 'xerces:xercesImpl:2.11.0'
    compile project(':searchlib')
    compile project(':fsa')
    compile 'commons-codec:commons-codec:1.4'
    compile 'com.ibm.icu:icu4j:57.1'
    compile 'net.jcip:jcip-annotations:1.0'
    compile 'com.fasterxml.jackson.core:jackson-databind:2.8.11.2'
    compile 'org.antlr:antlr4-runtime:4.5'
    testCompile 'junit:junit:4.12'
    testCompile 'org.apache.httpcomponents:httpclient:4.4.1'
    testCompile 'org.hamcrest:hamcrest-library:1.3'
    testCompile 'javax.xml.bind:jaxb-api:2.3.0'
    testCompile 'org.mockito:mockito-core:1.9.5'
    testCompile project(':testutil')
    providedCompile project(':provided-dependencies')
    providedCompile project(':component')
    providedCompile project(':config-bundle')
    providedCompile project(':defaults')
    providedCompile project(':simplemetrics')
    providedCompile project(':container-accesslogging')
    providedCompile project(':container-core')
    compileOnly 'org.json:json:20090211'
    compileOnly 'com.fasterxml.jackson.core:jackson-core:2.8.11'
    compileOnly 'com.google.protobuf:protobuf-java:3.7.0'

    antlr "org.antlr:antlr4:4.5"
}

generateGrammarSource {
    arguments += ["-visitor"]
}

sourceSets {
    main{
        java {
           srcDir "${buildDir}/generated-src/antlr/main/"
        }
    }
}

compileTestJava.dependsOn generateConfigurationsTask(
	"${projectDir}/src/test/vespa-configdef/", 
	"${buildDir}/generated-sources/configgen-test/")


