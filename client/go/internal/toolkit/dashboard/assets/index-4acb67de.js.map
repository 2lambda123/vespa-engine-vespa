{"version":3,"file":"index-4acb67de.js","sources":["../../src/app/components/layout/error.jsx","../../src/app/assets/img/vespa-logo.svg","../../src/app/components/layout/header-logo.jsx","../../src/app/components/layout/header.jsx","../../src/app/components/layout/layout.jsx","../../src/app/components/containers/container.jsx","../../src/app/components/containers/content.jsx","../../src/app/components/link/link.jsx","../../src/app/components/card-link/card-link.jsx","../../src/app/components/icon/icon.jsx","../../src/app/pages/home/home.jsx","../../src/app/pages/querybuilder/context/parameters.jsx","../../src/app/pages/querybuilder/context/query-builder-provider.jsx","../../src/app/styles/theme/colors.js","../../src/app/pages/querybuilder/query-filters/query-filters.jsx","../../src/app/pages/querybuilder/query-derived/query-derived.jsx","../../src/app/libs/notification/messages.jsx","../../src/app/pages/querybuilder/TransformVespaTrace.jsx","../../src/app/pages/querybuilder/query-response/download-jaeger.jsx","../../src/app/pages/querybuilder/query-response/query-response.jsx","../../src/app/pages/querybuilder/query-endpoint/query-endpoint.jsx","../../src/app/pages/querybuilder/index.jsx","../../src/app/pages/querytracer/query-tracer.jsx","../../src/app/styles/global.js","../../src/app/styles/theme/common.js","../../src/app/styles/theme/components.js","../../src/app/styles/theme/common-colors.js","../../src/app/styles/theme/index.js","../../src/app/libs/theme-provider.jsx","../../src/app/libs/router.jsx","../../src/app/app.jsx","../../src/app/main.jsx"],"sourcesContent":["import React from 'react';\nimport { Center } from '@mantine/core';\n\n// TODO: make a better page\n\nfunction getMessage(code, location) {\n  const statusCode =\n    parseInt(code || new URLSearchParams(location?.search).get('code')) || 404;\n\n  switch (statusCode) {\n    case 403:\n      return 'Sorry, you are not authorized to view this page.';\n    case 404:\n      return 'Sorry, the page you were looking for does not exist.';\n    case 500:\n      return 'Oops... something went wrong.';\n    default:\n      return 'Unknown error - really, I have no idea what is going on here.';\n  }\n}\n\nexport function Error({ code, location }) {\n  const message = getMessage(code, location);\n  return <Center sx={{ minHeight: '89px' }}>{message}</Center>;\n}\n","export default \"__VITE_ASSET__26039bb5__\"","import React from 'react';\nimport { Image } from '@mantine/core';\nimport { Link } from 'react-router-dom';\nimport { VespaLogo } from 'app/assets';\n\nexport function HeaderLogo() {\n  return (\n    <Link to=\"/\">\n      <Image height={34} src={VespaLogo} />\n    </Link>\n  );\n}\n","import React from 'react';\nimport { Header as MantineHeader } from '@mantine/core';\nimport { HeaderLogo } from 'app/components/layout/header-logo';\n\nexport function Header() {\n  return (\n    <MantineHeader\n      height={55}\n      sx={(theme) => ({\n        display: 'flex',\n        alignItems: 'center',\n        paddingLeft: theme.spacing.md,\n        paddingRight: theme.spacing.md,\n        background: theme.cr.getSolidBackground(),\n        borderBottom: `1px solid ${theme.cr.getSubtleBorderAndSeparator()}`,\n      })}\n    >\n      <HeaderLogo />\n    </MantineHeader>\n  );\n}\n","import React from 'react';\nimport { AppShell } from '@mantine/core';\nimport { Header } from 'app/components/layout/header';\n\nexport function Layout({ children }) {\n  return <AppShell header={<Header />}>{children}</AppShell>;\n}\n","import React from 'react';\nimport { Box } from '@mantine/core';\n\nexport function Container({ sx, ...props }) {\n  return (\n    <Box\n      sx={() => ({\n        display: 'grid',\n        ...sx,\n      })}\n      {...props}\n    />\n  );\n}\n","import React from 'react';\nimport { Paper, Stack, Box } from '@mantine/core';\n\nexport function Content({\n  transparent,\n  withBorder,\n  padding,\n  borderStyle = 'solid',\n  stack = true,\n  sx,\n  ...props\n}) {\n  const Wrapper = stack ? Stack : Box;\n  return (\n    <Paper\n      sx={(theme) => ({\n        background: transparent && 'transparent',\n        border: withBorder\n          ? `1px ${borderStyle} ${theme.cr.getSubtleBorderAndSeparator()}`\n          : 0,\n      })}\n    >\n      <Wrapper\n        sx={(theme) => ({\n          padding: padding ?? theme.spacing.md,\n          ...sx,\n        })}\n        {...props}\n      />\n    </Paper>\n  );\n}\n","import React from 'react';\nimport { Link as InternalLink } from 'react-router-dom';\nimport { Anchor } from '@mantine/core';\n\nexport const isInternalLink = (link) => {\n  if (!link) return false;\n  return !/^[a-z]+:\\/\\//.test(link);\n};\n\nexport function Link({ to, api = false, ...props }) {\n  const internal = !api && isInternalLink(to);\n\n  if (!props.download && to && internal)\n    return <Anchor component={InternalLink} to={to} {...props} />;\n\n  const fixedProps = Object.assign(\n    to ? { href: (api ? window.config.api : '') + to } : {},\n    to && !internal && { target: '_blank', rel: 'noopener noreferrer' },\n    props\n  );\n\n  return <Anchor {...fixedProps} />;\n}\n","import React from 'react';\nimport { Box } from '@mantine/core';\n\nexport function CardLink({\n  sx,\n  withBorder = true,\n  borderStyle = 'solid',\n  minHeight = '89px',\n  minWidth = 'auto',\n  ...props\n}) {\n  return (\n    <Box\n      sx={(theme) => ({\n        minHeight,\n        minWidth,\n        display: 'grid',\n        placeContent: 'center',\n        justifyItems: 'center',\n        rowGap: '8px',\n        ...theme.fn.hover({\n          cursor: 'pointer',\n          background: theme.cr.getSubtleBackground(),\n          border: withBorder\n            ? `1px ${borderStyle} ${theme.cr.getUiElementBorderAndFocus()}`\n            : 0,\n        }),\n        border: withBorder\n          ? `1px ${borderStyle} ${theme.cr.getSubtleBorderAndSeparator()}`\n          : 0,\n        ...sx,\n      })}\n      {...props}\n    />\n  );\n}\n","import React from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { Box } from '@mantine/core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faArrowsToDot,\n  faChartGantt,\n  faCheck,\n  faCircleMinus,\n  faCopy,\n  faDownload,\n  faPaste,\n  faPlus,\n  faXmark,\n  faInfo,\n  faExclamation,\n} from '@fortawesome/free-solid-svg-icons';\n\n// TODO: use dynamic import\n\nlibrary.add(\n  faArrowsToDot,\n  faChartGantt,\n  faCircleMinus,\n  faPlus,\n  faPaste,\n  faDownload,\n  faCopy,\n  faCheck,\n  faXmark,\n  faInfo,\n  faExclamation\n);\n\nexport function Icon({ name, type = 'solid', color, ...rest }) {\n  const icon = `fa-${type} fa-${name}`;\n  return (\n    <Box\n      sx={(theme) => ({\n        ...(color && { color: theme.cr.getSolidBackground(color) }),\n      })}\n      component={FontAwesomeIcon}\n      icon={icon}\n      {...rest}\n    />\n  );\n}\n","import React from 'react';\nimport { Container, SimpleGrid, Space } from '@mantine/core';\nimport { Link, CardLink, Icon } from 'app/components';\n\n// TODO: move SimpleGrid to components\n\nexport function Home() {\n  return (\n    <Container>\n      <Space h={55} />\n      <SimpleGrid\n        style={{ gridAutoRows: 'minmax(0, 144px)' }}\n        breakpoints={[\n          { maxWidth: 'sm', cols: 2, spacing: 'sm' },\n          { maxWidth: 'xs', cols: 1, spacing: 'sm' },\n        ]}\n        spacing=\"lg\"\n        cols={2}\n      >\n        <CardLink component={Link} to=\"/querybuilder\">\n          <Icon name=\"arrows-to-dot\" size=\"2x\" />\n          query builder\n        </CardLink>\n        <CardLink component={Link} to=\"/querytracer\">\n          <Icon name=\"chart-gantt\" size=\"2x\" />\n          query tracer\n        </CardLink>\n      </SimpleGrid>\n    </Container>\n  );\n}\n","function param(name, type, props = {}) {\n  let children;\n  if (Array.isArray(type)) {\n    children = Object.fromEntries(type.map((child) => [child.name, child]));\n    type = 'Parent';\n  }\n  return Object.assign({ name, type }, children && { children }, props);\n}\n\n// https://docs.vespa.ai/en/reference/query-api-reference.html\nexport default param('root', [\n  param('yql', 'String'),\n\n  // Native Execution Parameters\n  param('hits', 'Integer', { min: 0, default: 10 }),\n  param('offset', 'Integer', { min: 0, default: 0 }),\n  param('queryProfile', 'String', { default: 'default' }),\n  param('groupingSessionCache', 'Boolean', { default: true }),\n  param('searchChain', 'String', { default: 'default' }),\n  param('timeout', 'Float', { min: 0, default: 0.5 }),\n  param('noCache', 'Boolean', { default: false }),\n\n  // Query Model\n  param('model', [\n    param('defaultIndex', 'String', { default: 'default' }),\n    param('encoding', 'String', { default: 'utf-8' }),\n    param('filter', 'String'),\n    param('locale', 'String'),\n    param('language', 'String'),\n    param('queryString', 'String'),\n    param('restrict', 'String'),\n    param('searchPath', 'String'),\n    param('sources', 'String'),\n    param('type', 'String'),\n  ]),\n\n  // Ranking\n  param('ranking', [\n    param('location', 'String'),\n    param('features', 'Parent', { children: 'String' }),\n    param('listFeatures', 'Boolean', { default: false }),\n    param('profile', 'String', { default: 'default' }),\n    param('properties', 'String', { children: 'String' }),\n    param('softtimeout', [\n      param('enable', 'Boolean', { default: true }),\n      param('factor', 'Float', { min: 0, max: 1, default: 0.7 }),\n    ]),\n    param('sorting', 'String'),\n    param('freshness', 'String'),\n    param('queryCache', 'Boolean', { default: false }),\n    param('rerankCount', 'Integer', { min: 0 }),\n    param('matching', [\n      param('numThreadsPerSearch', 'Integer', { min: 0 }),\n      param('minHitsPerThread', 'Integer', { min: 0 }),\n      param('numSearchPartitions', 'Integer', { min: 0 }),\n      param('termwiseLimit', 'Float', { min: 0, max: 1 }),\n      param('postFilterThreshold', 'Float', { min: 0, max: 1 }),\n      param('approximateThreshold', 'Float', { min: 0, max: 1 }),\n    ]),\n    param('matchPhase', [\n      param('attribute', 'String'),\n      param('maxHits', 'Integer', { min: 0 }),\n      param('ascending', 'Boolean'),\n      param('diversity', [\n        param('attribute', 'String'),\n        param('minGroups', 'Integer', { min: 0 }),\n      ]),\n    ]),\n  ]),\n\n  // Grouping\n  param('collapsesize', 'Integer', { min: 1, default: 1 }),\n  param('collapsefield', 'String'),\n  param('collapse', [param('summary', 'String')]),\n  param('grouping', [\n    param('defaultMaxGroups', 'Integer', { min: -1, default: 10 }),\n    param('defaultMaxHits', 'Integer', { min: -1, default: 10 }),\n    param('globalMaxGroups', 'Integer', { min: -1, default: 10000 }),\n    param('defaultPrecisionFactor', 'Float', { min: 0, default: 2.0 }),\n  ]),\n\n  // Presentation\n  param('presentation', [\n    param('bolding', 'Boolean', { default: true }),\n    param('format', 'String', { default: 'default' }),\n    param('template', 'String'),\n    param('summary', 'String'),\n    param('timing', 'Boolean', { default: false }),\n  ]),\n\n  // Tracing\n  param('trace', [\n    param('level', 'Integer', { min: 1 }),\n    param('explainLevel', 'Integer', { min: 1 }),\n    param('profileDepth', 'Integer', { min: 1 }),\n    param('timestamps', 'Boolean', { default: false }),\n    param('query', 'Boolean', { default: true }),\n  ]),\n\n  // Semantic Rules\n  param('rules', [\n    param('off', 'Boolean', { default: true }),\n    param('rulebase', 'String'),\n  ]),\n  param('tracelevel', [param('rules', 'Integer', { min: 0 })]),\n\n  // Dispatch\n  param('dispatch', [param('topKProbability', 'Float', { min: 0, max: 1 })]),\n\n  // Other\n  param('recall', 'String'),\n  param('user', 'String'),\n  param('hitcountestimate', 'Boolean', { default: false }),\n  param('metrics', [param('ignore', 'Boolean', { default: false })]),\n  param('weakAnd', [param('replace', 'Boolean', { default: false })]),\n  param('wand', [param('hits', 'Integer', { default: 100 })]),\n  param('sorting', [param('degrading', 'Boolean', { default: true })]),\n\n  param('streaming', [\n    param('userid', 'Integer'),\n    param('groupname', 'String'),\n    param('selection', 'String'),\n    param('priority', 'String'),\n    param('maxbucketspervisitor', 'Integer'),\n  ]),\n]).children;\n","import { last, set } from 'lodash';\nimport React, { useReducer } from 'react';\nimport { createContext, useContextSelector } from 'use-context-selector';\nimport parameters from 'app/pages/querybuilder/context/parameters';\n\nlet _dispatch;\nconst root = { type: { children: parameters } };\nconst context = createContext(null);\n\nexport const ACTION = Object.freeze({\n  SET_QUERY: 0,\n  SET_HTTP: 1,\n  SET_METHOD: 2,\n  SET_URL: 3,\n\n  INPUT_ADD: 10,\n  INPUT_UPDATE: 11,\n  INPUT_REMOVE: 12,\n});\n\nfunction cloneParams(params) {\n  if (!Array.isArray(params.value)) return { ...params };\n  return { ...params, value: params.value.map(cloneParams) };\n}\n\nfunction inputsToQuery(method, inputs) {\n  if (method === 'POST') {\n    const inputsToJson = (inputs, parent) =>\n      Object.fromEntries(\n        inputs.map(({ value, type: { name, type, children } }) => [\n          name,\n          children ? inputsToJson(value) : parseInput(value, type),\n        ])\n      );\n    return JSON.stringify(inputsToJson(inputs), null, 4);\n  }\n\n  const inputsToSearchParams = (inputs, parent) =>\n    inputs.reduce((acc, { value, type: { name, children } }) => {\n      const key = parent ? `${parent}.${name}` : name;\n      return Object.assign(\n        acc,\n        children ? inputsToSearchParams(value, key) : { [key]: value }\n      );\n    }, {});\n  return new URLSearchParams(inputsToSearchParams(inputs)).toString();\n}\n\nfunction queryToInputs(method, query) {\n  if (method === 'POST') return jsonToInputs(JSON.parse(query));\n\n  const json = [...new URLSearchParams(query).entries()].reduce(\n    (acc, [key, value]) => set(acc, key, value),\n    {}\n  );\n  return jsonToInputs(json);\n}\n\nfunction jsonToInputs(json, parent = root) {\n  return Object.entries(json).map(([key, value], i) => {\n    const node = {\n      id: parent.id ? `${parent.id}.${i}` : i.toString(),\n      type:\n        typeof parent.type.children === 'string'\n          ? { name: key, type: parent.type.children }\n          : parent.type.children[key],\n    };\n    if (!node.type) {\n      const location = parent.type.name\n        ? `under '${parent.type.name}'`\n        : 'on root level';\n      throw new Error(`Unknown property '${key}' ${location}`);\n    }\n    if (value != null && typeof value === 'object') {\n      if (!node.type.children)\n        throw new Error(`Expected property '${key}' to be ${node.type.type}`);\n      node.value = jsonToInputs(value, node);\n    } else {\n      if (node.type.children)\n        throw new Error(\n          `Property '${key}' cannot have a value, supported children: ${Object.keys(\n            node.type.children\n          ).sort()}`\n        );\n      node.value = value?.toString();\n    }\n    return node;\n  });\n}\n\nfunction parseInput(value, type) {\n  if (type === 'Integer') return parseInt(value);\n  if (type === 'Float') return parseFloat(value);\n  if (type === 'Boolean') return value.toLowerCase() === 'true';\n  return value;\n}\n\nfunction inputAdd(params, { id: parentId, type: typeName }) {\n  const cloned = cloneParams(params);\n  const parent = findInput(cloned, parentId);\n\n  const nextId = parseInt(last(last(parent.value)?.id?.split('.')) ?? -1) + 1;\n  const id = parentId ? `${parentId}.${nextId}` : nextId.toString();\n  const type =\n    typeof parent.type.children === 'string'\n      ? { name: typeName, type: parent.type.children }\n      : parent.type.children[typeName];\n\n  parent.value.push({\n    id,\n    value: type.children ? [] : type.default?.toString() ?? '',\n    type,\n  });\n\n  return cloned;\n}\n\nfunction inputUpdate(params, { id, type, value }) {\n  const cloned = cloneParams(params);\n  const node = findInput(cloned, id);\n  if (type) {\n    const parent = findInput(cloned, id.substring(0, id.lastIndexOf('.')));\n    const newType =\n      typeof parent.type.children === 'string'\n        ? { name: type, type: parent.type.children }\n        : parent.type.children[type];\n    if (node.type.type !== newType.type.type)\n      node.value = newType.children ? [] : newType.default?.toString() ?? '';\n    node.type = newType;\n  }\n  if (value != null) node.value = value;\n\n  return cloned;\n}\n\nfunction findInput(params, id, Delete = false) {\n  if (!id) return params;\n  let end = -1;\n  while ((end = id.indexOf('.', end + 1)) > 0)\n    params = params.value.find((input) => input.id === id.substring(0, end));\n  const index = params.value.findIndex((input) => input.id === id);\n  return Delete ? params.value.splice(index, 1)[0] : params.value[index];\n}\n\nexport function reducer(state, action) {\n  if (state == null) {\n    state = { http: {}, params: {}, query: {}, request: {} };\n\n    return [\n      [ACTION.SET_URL, 'http://localhost:8080/search/'],\n      [ACTION.SET_QUERY, 'yql='],\n      [ACTION.SET_METHOD, 'POST'],\n    ].reduce((s, [action, data]) => reducer(s, { action, data }), state);\n  }\n\n  const result = preReducer(state, action);\n  const { request: sr, params: sp, query: sq } = state;\n  const { request: rr, params: rp, query: rq } = result;\n\n  if ((sp.value !== rp.value && sq === rq) || sr.method !== rr.method)\n    result.query = { input: inputsToQuery(rr.method, rp.value) };\n\n  const input = result.query.input;\n  if (sr.url !== rr.url || sq.input !== input || sr.method !== rr.method) {\n    if (rr.method === 'POST') {\n      result.request = { ...result.request, fullUrl: rr.url, body: input };\n    } else {\n      const url = new URL(rr.url);\n      url.search = input;\n      result.request = {\n        ...result.request,\n        fullUrl: url.toString(),\n        body: null,\n      };\n    }\n  }\n\n  return result;\n}\n\nfunction preReducer(state, { action, data }) {\n  switch (action) {\n    case ACTION.SET_QUERY: {\n      try {\n        const value = queryToInputs(state.request.method, data);\n        return {\n          ...state,\n          params: { ...root, value },\n          query: { input: data },\n        };\n      } catch (error) {\n        return { ...state, query: { input: data, error: error.message } };\n      }\n    }\n    case ACTION.SET_HTTP:\n      return { ...state, http: data };\n    case ACTION.SET_METHOD:\n      return { ...state, request: { ...state.request, method: data } };\n    case ACTION.SET_URL:\n      return { ...state, request: { ...state.request, url: data } };\n\n    case ACTION.INPUT_ADD:\n      return { ...state, params: inputAdd(state.params, data) };\n    case ACTION.INPUT_UPDATE:\n      return { ...state, params: inputUpdate(state.params, data) };\n    case ACTION.INPUT_REMOVE: {\n      const cloned = cloneParams(state.params);\n      findInput(cloned, data, true);\n      return { ...state, params: cloned };\n    }\n\n    default:\n      throw new Error(`Unknown action ${action}`);\n  }\n}\n\nexport function QueryBuilderProvider({ children }) {\n  const [value, dispatch] = useReducer(reducer, null, reducer);\n  _dispatch = dispatch;\n  return <context.Provider value={value}>{children}</context.Provider>;\n}\n\nexport function useQueryBuilderContext(selector) {\n  const func = typeof selector === 'string' ? (c) => c[selector] : selector;\n  return useContextSelector(context, func);\n}\n\nexport function dispatch(action, data) {\n  _dispatch({ action, data });\n}\n","export const SHADE = Object.freeze({\n  APP_BACKGROUND: 0,\n  SUBTLE_BACKGROUND: 1,\n  UI_ELEMENT_BACKGROUND: 2,\n  HOVERED_ELEMENT_BACKGROUND: 3,\n  SUBTLE_BORDER_AND_SEPARATOR: 4,\n  UI_ELEMENT_BORDER_AND_FOCUS: 5,\n  SOLID_BACKGROUND: 6,\n  HOVERED_SOLID_BACKGROUND: 7,\n  LOW_CONTRAST_TEXT: 8,\n  HIGH_CONTRAST_TEXT: 9,\n});\n\nexport class Colors {\n  constructor(theme) {\n    this.theme = theme;\n    this.themeColor = theme.colors['blue'];\n  }\n\n  getAppBackground() {\n    return this.themeColor[SHADE.APP_BACKGROUND];\n  }\n\n  getSubtleBackground() {\n    return this.themeColor[SHADE.SUBTLE_BACKGROUND];\n  }\n\n  getUiElementBackground() {\n    return this.themeColor[SHADE.UI_ELEMENT_BACKGROUND];\n  }\n\n  getHoveredUiElementBackground() {\n    return this.themeColor[SHADE.HOVERED_ELEMENT_BACKGROUND];\n  }\n\n  getSubtleBorderAndSeparator() {\n    return this.themeColor[SHADE.SUBTLE_BORDER_AND_SEPARATOR];\n  }\n\n  getUiElementBorderAndFocus() {\n    return this.themeColor[SHADE.UI_ELEMENT_BORDER_AND_FOCUS];\n  }\n\n  getSolidBackground(color) {\n    return this.theme.fn.themeColor(color, SHADE.SOLID_BACKGROUND);\n  }\n\n  getHoveredSolidBackground(color) {\n    return this.theme.fn.themeColor(color, SHADE.HOVERED_SOLID_BACKGROUND);\n  }\n\n  getLowContrastText() {\n    return this.theme.colors.gray[SHADE.LOW_CONTRAST_TEXT];\n  }\n\n  getHighContrastText() {\n    return this.theme.colors.gray[SHADE.HIGH_CONTRAST_TEXT];\n  }\n\n  getText(color, variant) {\n    return color === 'dimmed'\n      ? this.theme.fn.themeColor('gray', SHADE.SOLID_BACKGROUND)\n      : color in this.theme.colors\n      ? this.theme.fn.themeColor(color, SHADE.LOW_CONTRAST_TEXT)\n      : variant === 'link'\n      ? this.theme.fn.themeColor(color, SHADE.SOLID_BACKGROUND)\n      : color || 'inherit';\n  }\n}\n","import React from 'react';\nimport {\n  Select,\n  TextInput,\n  ActionIcon,\n  Button,\n  Box,\n  Stack,\n  Switch,\n  Badge,\n  Group,\n} from '@mantine/core';\nimport { Container, Content, Icon } from 'app/components';\nimport {\n  ACTION,\n  dispatch,\n  useQueryBuilderContext,\n} from 'app/pages/querybuilder/context/query-builder-provider';\nimport { SHADE } from 'app/styles/theme/colors';\n\nfunction AddProperty(props) {\n  return (\n    <Button leftIcon={<Icon name=\"plus\" />} {...props}>\n      Add property\n    </Button>\n  );\n}\n\nfunction Property({ id, type, types }) {\n  if (types)\n    return (\n      <Select\n        sx={{ flex: 1 }}\n        data={Object.values({ [type.name]: type, ...types }).map(\n          ({ name }) => name\n        )}\n        onChange={(type) => dispatch(ACTION.INPUT_UPDATE, { id, type })}\n        value={type.name}\n        searchable\n      />\n    );\n\n  return (\n    <TextInput\n      sx={{ flex: 1 }}\n      onChange={(event) =>\n        dispatch(ACTION.INPUT_UPDATE, {\n          id,\n          type: event.currentTarget.value,\n        })\n      }\n      placeholder=\"String\"\n      value={type.name}\n    />\n  );\n}\n\nfunction Value({ id, type, value }) {\n  if (type.children) return null;\n\n  if (type.type === 'Boolean')\n    return (\n      <Switch\n        sx={{ flex: 1 }}\n        onLabel=\"true\"\n        offLabel=\"false\"\n        size=\"xl\"\n        checked={value === 'true'}\n        onChange={(event) =>\n          dispatch(ACTION.INPUT_UPDATE, {\n            id,\n            value: event.currentTarget.checked.toString(),\n          })\n        }\n      />\n    );\n\n  const props = { value, placeholder: type.type };\n  if (type.type === 'Integer' || type.type === 'Float') {\n    props.type = 'number';\n    let range;\n    if (type.min != null) {\n      props.min = type.min;\n      range = `[${props.min}, `;\n    } else range = '(-∞, ';\n    if (type.max != null) {\n      props.max = type.max;\n      range += props.max + ']';\n    } else range += '∞)';\n    props.placeholder += ` in ${range}`;\n\n    if (type.type === 'Float' && type.min != null && type.max != null)\n      props.step = (type.max - type.min) / 100;\n\n    if (parseFloat(value) < type.min || parseFloat(value) > type.max)\n      props.error = `Must be within ${range}`;\n  }\n\n  return (\n    <TextInput\n      sx={{ flex: 1 }}\n      onChange={(event) =>\n        dispatch(ACTION.INPUT_UPDATE, {\n          id,\n          value: event.currentTarget.value,\n        })\n      }\n      {...props}\n    />\n  );\n}\n\nfunction Input({ id, value, types, type }) {\n  return (\n    <>\n      <Box sx={{ display: 'flex', gap: '5px' }}>\n        <Property {...{ id, type, types }} />\n        <Value {...{ id, type, value }} />\n        <ActionIcon\n          sx={{ marginTop: 5 }}\n          onClick={() => dispatch(ACTION.INPUT_REMOVE, id)}\n        >\n          <Icon name=\"circle-minus\" />\n        </ActionIcon>\n      </Box>\n      {type.children && (\n        <Box\n          py={8}\n          sx={(theme) => ({\n            borderLeft: `1px dashed ${theme.fn.themeColor(\n              'gray',\n              SHADE.UI_ELEMENT_BORDER_AND_FOCUS\n            )}`,\n            marginLeft: '13px',\n            paddingLeft: '13px',\n          })}\n        >\n          <Inputs id={id} type={type.children} inputs={value} />\n        </Box>\n      )}\n    </>\n  );\n}\n\nfunction Inputs({ id, type, inputs }) {\n  const usedTypes = inputs.map(({ type }) => type.name);\n  const remainingTypes =\n    typeof type === 'string'\n      ? null\n      : Object.fromEntries(\n          Object.entries(type).filter(([name]) => !usedTypes.includes(name))\n        );\n  const firstRemaining = remainingTypes ? Object.keys(remainingTypes)[0] : '';\n\n  return (\n    <Container sx={{ rowGap: '5px' }}>\n      {inputs.map(({ id, value, type }) => (\n        <Input key={id} types={remainingTypes} {...{ id, value, type }} />\n      ))}\n      {firstRemaining != null && (\n        <>\n          {id != null ? (\n            <Container sx={{ justifyContent: 'start' }}>\n              <AddProperty\n                onClick={() =>\n                  dispatch(ACTION.INPUT_ADD, { id, type: firstRemaining })\n                }\n                variant=\"subtle\"\n                size=\"xs\"\n                compact\n              />\n            </Container>\n          ) : (\n            <AddProperty\n              onClick={() =>\n                dispatch(ACTION.INPUT_ADD, { id, type: firstRemaining })\n              }\n              mt={13}\n            />\n          )}\n        </>\n      )}\n    </Container>\n  );\n}\n\nexport function QueryFilters() {\n  const { value, type } = useQueryBuilderContext('params');\n  return (\n    <Stack>\n      <Group>\n        <Badge variant=\"filled\">Parameters</Badge>\n      </Group>\n      <Container sx={{ alignContent: 'start' }}>\n        <Content padding={0}>\n          <Inputs type={type.children} inputs={value} />\n        </Content>\n      </Container>\n    </Stack>\n  );\n}\n","import React from 'react';\nimport {\n  Badge,\n  Group,\n  Stack,\n  Button,\n  CopyButton,\n  Textarea,\n} from '@mantine/core';\nimport {\n  ACTION,\n  dispatch,\n  useQueryBuilderContext,\n} from 'app/pages/querybuilder/context/query-builder-provider';\nimport { Icon } from 'app/components';\n\nexport function QueryDerived() {\n  const { input, error } = useQueryBuilderContext('query');\n\n  return (\n    <Stack>\n      <Group position=\"apart\">\n        <Badge variant=\"filled\">Query</Badge>\n        <Group spacing=\"xs\">\n          <CopyButton value={input}>\n            {({ copied, copy }) => (\n              <Button\n                leftIcon={<Icon name={copied ? 'check' : 'copy'} />}\n                color={copied ? 'teal' : 'blue'}\n                variant=\"outline\"\n                onClick={copy}\n                size=\"xs\"\n                compact\n              >\n                Copy\n              </Button>\n            )}\n          </CopyButton>\n        </Group>\n      </Group>\n      <Textarea\n        styles={(theme) => ({\n          input: {\n            fontFamily: theme.fontFamilyMonospace,\n            fontSize: theme.fontSizes.xs,\n          },\n        })}\n        value={input}\n        error={error}\n        onChange={({ target }) => dispatch(ACTION.SET_QUERY, target.value)}\n        variant=\"unstyled\"\n        minRows={21}\n        autosize\n      />\n    </Stack>\n  );\n}\n","import React from 'react';\nimport { showNotification } from '@mantine/notifications';\nimport { Icon } from 'app/components';\nimport { SHADE } from 'app/styles/theme/colors';\n\nfunction getStyles(color) {\n  return (theme) => ({\n    root: {\n      color: theme.fn.themeColor(color, SHADE.LOW_CONTRAST_TEXT),\n      background: theme.fn.themeColor(color, SHADE.UI_ELEMENT_BACKGROUND),\n      borderColor: theme.fn.themeColor(\n        color,\n        SHADE.UI_ELEMENT_BORDER_AND_FOCUS\n      ),\n    },\n    title: {\n      fontWeight: 700,\n      color: theme.fn.themeColor(color, SHADE.LOW_CONTRAST_TEXT),\n      '&:hover': {\n        color: theme.fn.themeColor(color, SHADE.LOW_CONTRAST_TEXT),\n      },\n    },\n    description: {\n      color: theme.fn.themeColor(color, SHADE.LOW_CONTRAST_TEXT),\n      '&:hover': {\n        color: theme.fn.themeColor(color, SHADE.LOW_CONTRAST_TEXT),\n      },\n    },\n    closeButton: {\n      color: theme.fn.themeColor(color, SHADE.LOW_CONTRAST_TEXT),\n      '&:hover': {\n        backgroundColor: theme.fn.themeColor(\n          color,\n          SHADE.HOVERED_UI_ELEMENT_BACKGROUND\n        ),\n      },\n    },\n  });\n}\n\nconst commonMessage = ({ title, icon, color, message }) => {\n  return showNotification({\n    styles: getStyles(color),\n    icon: <Icon name={icon} />,\n    title,\n    color,\n    message,\n  });\n};\n\nexport const infoMessage = (\n  message,\n  title = 'Info',\n  icon = 'info',\n  color = 'blue'\n) => commonMessage({ title, icon, color, message });\n\nexport const warningMessage = (\n  message,\n  title = 'Warning',\n  icon = 'exclamation',\n  color = 'orange'\n) => commonMessage({ title, icon, color, message });\n\nexport const errorMessage = (\n  message,\n  title = 'Error',\n  icon = 'xmark',\n  color = 'red'\n) => commonMessage({ title, icon, color, message });\n\nexport const successMessage = (\n  message,\n  title = 'Success',\n  icon = 'check',\n  color = 'green'\n) => commonMessage({ title, icon, color, message });\n","// Generates a random hex string of size \"size\"\nconst genRanHex = (size) =>\n  [...Array(size)]\n    .map(() => Math.floor(Math.random() * 16).toString(16))\n    .join('');\n\nconst traceID = genRanHex(32);\nconst output = { data: [{ traceID: traceID, spans: [], processes: {} }] };\nconst processes = output['data'][0]['processes'];\nconst processMap = new Map();\nconst data = output['data'][0]['spans'];\nlet traceStartTimestamp = 0;\nlet processID = 1;\n\nexport default function transform(trace) {\n  let temp = trace['trace']['children'];\n  let message = temp[0]['message'].split(' ');\n  processes.p0 = { serviceName: message[3], tags: [] };\n  let spans = digDownInTrace(temp);\n  traceStartTimestamp = findTraceStartTime(spans);\n  let firstSpan = createNewSpan(traceStartTimestamp, 0, 'p0', message[6]);\n  const totalDuration = findTotalDuration(spans);\n  firstSpan['duration'] = totalDuration;\n  data.push(firstSpan);\n\n  traverseSpans(spans, firstSpan);\n  return output;\n}\n\nfunction traverseChildren(span, parent) {\n  let logSpan;\n  if (span.hasOwnProperty('children')) {\n    let duration =\n      (span['children'][span['children'].length - 1]['timestamp'] -\n        span['children'][0]['timestamp']) *\n      1000;\n    if (isNaN(duration) || duration <= 0) {\n      duration = 1;\n    }\n    parent['duration'] = duration;\n    for (let i = 0; i < span['children'].length; i++) {\n      let x = span['children'][i];\n      if (x.hasOwnProperty('children')) {\n        // Create a new parent span so that the timeline for the spans are correct\n        let message = findProcessName(parent['operationName']);\n        let processKey = message === '' ? 'p0' : getProcess(message);\n        logSpan = createNewSpan(\n          traceStartTimestamp + x['timestamp'] * 1000,\n          duration,\n          processKey,\n          parent['operationName'],\n          [{ refType: 'CHILD_OF', traceID: traceID, spanID: parent['spanID'] }]\n        );\n        data.push(logSpan);\n        traverseChildren(x, logSpan);\n      } else if (Array.isArray(x['message'])) {\n        createProtonSpans(x['message'], parent['spanID']);\n      } else if (x.hasOwnProperty('message') && x.hasOwnProperty('timestamp')) {\n        // only add logs with a timestamp\n        let logPointDuration;\n        if (i >= span['children'].length - 1) {\n          logPointDuration = 1;\n        } else {\n          logPointDuration =\n            findDuration(span['children'], i) - x['timestamp'] * 1000;\n        }\n        if (isNaN(logPointDuration) || logPointDuration <= 0) {\n          logPointDuration = 1;\n        }\n        addLogSpan(data, x, logPointDuration, parent);\n      }\n    }\n  }\n}\n\nfunction traverseSpans(spans, firstSpan) {\n  for (let i = 0; i < spans.length; i++) {\n    if (spans[i].hasOwnProperty('children')) {\n      traverseChildren(spans[i], data[data.length - 1]);\n    } else if (\n      spans[i].hasOwnProperty('message') &&\n      spans[i].hasOwnProperty('timestamp')\n    ) {\n      let duration;\n      if (i >= spans.length - 1) {\n        duration = 1;\n      } else {\n        duration = findDuration(spans, i) - spans[i]['timestamp'] * 1000;\n      }\n      if (isNaN(duration) || duration <= 0) {\n        duration = 1;\n      }\n      addLogSpan(data, spans[i], duration, firstSpan);\n    }\n  }\n}\n\nfunction addLogSpan(data, span, duration, parent) {\n  let logPointStart = traceStartTimestamp + span['timestamp'] * 1000;\n  let message = findProcessName(span['message']);\n  let processKey = message === '' ? 'p0' : getProcess(message);\n  let logSpan = createNewSpan(\n    logPointStart,\n    duration,\n    processKey,\n    span['message'],\n    [\n      {\n        refType: 'CHILD_OF',\n        traceID: traceID,\n        spanID: parent['spanID'],\n      },\n    ]\n  );\n  data.push(logSpan);\n}\n\nfunction createProtonSpans(children, parentID) {\n  let child = children[0];\n  let processKey = genRanHex(5);\n  processes[processKey] = { serviceName: 'Proton:' + genRanHex(3), tags: [] };\n  let startTimestamp = Date.parse(child['start_time']) * 1000;\n  let newSpan = createNewSpan(\n    startTimestamp,\n    child['duration_ms'] * 1000,\n    processKey,\n    'Search Dispatch',\n    [{ refType: 'CHILD_OF', traceID: traceID, spanID: parentID }]\n  );\n  data.push(newSpan);\n  // eslint-disable-next-line no-prototype-builtins\n  if (!child.hasOwnProperty('traces')) {\n    return;\n  }\n  let traces = child['traces'];\n  for (let k = 0; k < traces.length; k++) {\n    let trace = traces[k];\n    let traceTimestamp = trace['timestamp_ms'];\n    let events;\n    let firstEvent;\n    let duration;\n    processKey = getProcessID();\n    processes[processKey] = { serviceName: trace['tag'], tags: [] };\n    if (trace['tag'] === 'query_execution') {\n      traverseQueryExecution(\n        trace,\n        traceTimestamp,\n        startTimestamp,\n        processKey,\n        newSpan['spanID']\n      );\n    } else {\n      if (trace['tag'] === 'query_execution_plan') {\n        events = [];\n        let nextTrace = traces[k + 1];\n        firstEvent = trace;\n        // query execution plan has no events, duration must therefore be found using the next trace\n        if (nextTrace['tag'] === 'query_execution') {\n          duration =\n            (nextTrace['threads'][0]['traces'][0]['timestamp_ms'] -\n              traceTimestamp) *\n            1000;\n        } else {\n          duration = (nextTrace['timestamp_ms'] - traceTimestamp) * 1000;\n        }\n      } else {\n        events = trace['traces'];\n        firstEvent = events[0];\n        duration = (traceTimestamp - firstEvent['timestamp_ms']) * 1000;\n      }\n      let childSpan = createNewSpan(\n        startTimestamp + firstEvent['timestamp_ms'] * 1000,\n        duration,\n        processKey,\n        trace['tag'],\n        [{ refType: 'CHILD_OF', traceID: traceID, spanID: newSpan['spanID'] }]\n      );\n      data.push(childSpan);\n      traverseEvents(events, childSpan, startTimestamp, traceTimestamp);\n    }\n  }\n}\n\n// the query execution tag might have several threads\nfunction traverseQueryExecution(\n  trace,\n  traceTimestamp,\n  startTimestamp,\n  processKey,\n  spanID\n) {\n  let threads = trace['threads'];\n  for (let i = 0; i < threads.length; i++) {\n    let events = threads[i]['traces'];\n    let firstEvent = events[0];\n    let duration = (traceTimestamp - firstEvent['timestamp_ms']) * 1000;\n    let span = createNewSpan(\n      startTimestamp + firstEvent['timestamp_ms'] * 1000,\n      duration,\n      processKey,\n      trace['tag'],\n      [{ refType: 'CHILD_OF', traceID: traceID, spanID: spanID }]\n    );\n    data.push(span);\n    traverseEvents(events, span, startTimestamp, traceTimestamp);\n  }\n}\n\nfunction traverseEvents(events, parent, startTimestamp, traceTimestamp) {\n  for (let i = 0; i < events.length; i++) {\n    let event = events[i];\n    let eventStart = event['timestamp_ms'];\n    let operationName;\n    let duration;\n    if (event.hasOwnProperty('event')) {\n      operationName = event['event'];\n      if (\n        operationName === 'Complete query setup' ||\n        operationName === 'MatchThread::run Done'\n      ) {\n        duration = (traceTimestamp - eventStart) * 1000;\n      } else {\n        duration = (events[i + 1]['timestamp_ms'] - eventStart) * 1000;\n      }\n    } else {\n      operationName = event['tag'];\n      duration = (events[i + 1]['timestamp_ms'] - eventStart) * 1000;\n    }\n    let eventSpan = createNewSpan(\n      startTimestamp + eventStart * 1000,\n      duration,\n      parent['processID'],\n      operationName,\n      [\n        {\n          refType: 'CHILD_OF',\n          traceID: traceID,\n          spanID: parent['spanID'],\n        },\n      ]\n    );\n    data.push(eventSpan);\n  }\n}\n\nfunction digDownInTrace(traces) {\n  for (let trace of traces) {\n    if (trace.hasOwnProperty('children')) {\n      return trace['children'];\n    }\n  }\n}\n\n// Get an estimated start time by using the start time of the query and subtracting the current run time\nfunction getTraceStartTime(trace) {\n  if (Array.isArray(trace['message'])) {\n    let timestamp = Date.parse(trace['message'][0]['start_time']) * 1000;\n    let currentTimestamp = trace['timestamp'] * 1000;\n    return timestamp - currentTimestamp;\n  }\n}\n\nfunction findTraceStartTime(spans) {\n  let startTime = 0;\n  for (let span of spans) {\n    if (span.hasOwnProperty('children')) {\n      startTime = findTraceStartTime(span['children']);\n    } else if (span.hasOwnProperty('message')) {\n      if (Array.isArray(span['message'])) {\n        return getTraceStartTime(span);\n      }\n    }\n    if (startTime !== 0) {\n      return startTime;\n    }\n  }\n  return startTime;\n}\n\n// Finds the total duration of the entire trace\nfunction findTotalDuration(spans) {\n  let i = spans.length - 1;\n  while (i >= 0) {\n    if (spans[i].hasOwnProperty('timestamp')) {\n      return spans[i]['timestamp'] * 1000;\n    }\n    i--;\n  }\n  return 0;\n}\n\n// Finds the duration of a single span\nfunction findDuration(span, i) {\n  i = i + 1;\n  while (i < span.length) {\n    if (span[i].hasOwnProperty('timestamp')) {\n      return span[i]['timestamp'] * 1000;\n    }\n    i++;\n  }\n  return 0;\n}\n\nfunction createNewSpan(\n  startTime = 0,\n  duration = 1,\n  processID = 'p0',\n  operationName = 'Complete',\n  references = []\n) {\n  let spanID = genRanHex(16);\n  let newSpan = {\n    traceID: traceID,\n    spanID: spanID,\n    operationName: operationName,\n    startTime: startTime,\n    duration: duration,\n    references: references,\n    tags: [],\n    logs: [],\n    processID: processID,\n  };\n  return newSpan;\n}\n\nfunction getProcess(key) {\n  if (processMap.has(key)) {\n    return processMap.get(key);\n  } else {\n    let id = 'p' + getProcessID();\n    processes[id] = { serviceName: key, tags: [] };\n    processMap.set(key, id);\n    return id;\n  }\n}\n\nfunction getProcessID() {\n  processID += 1;\n  return processID;\n}\n\n// find a name to use for a process using the operationName from a span\nfunction findProcessName(string) {\n  let regex = /(?:[a-z]+\\.)+[a-zA-Z]+/gm;\n  let match = string.match(regex);\n  if (match != null && match.length > 0) {\n    let temp = match[0];\n    temp = temp.split('.');\n    return temp[temp.length - 1];\n  } else {\n    return '';\n  }\n}\n","import { Button } from '@mantine/core';\nimport React from 'react';\nimport { errorMessage } from 'app/libs/notification';\nimport { Icon } from 'app/components';\nimport transform from 'app/pages/querybuilder/TransformVespaTrace';\n\n// copied from safakeskin´s answer on SO, link: https://stackoverflow.com/questions/55613438/reactwrite-to-json-file-or-export-download-no-server\nfunction downloadFile(filename, blob) {\n  const href = URL.createObjectURL(blob);\n\n  // create \"a\" HTML element with href to file\n  const link = document.createElement('a');\n  link.href = href;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n\n  // clean up \"a\" element & remove ObjectURL\n  document.body.removeChild(link);\n  URL.revokeObjectURL(href);\n}\n\nexport function DownloadJaeger({ response, ...props }) {\n  const handleClick = () => {\n    try {\n      const json = JSON.parse(response);\n\n      try {\n        const content = JSON.stringify(transform(json), null, 4);\n        downloadFile(\n          'vespa-response.json',\n          new Blob([content], { type: 'application/json' })\n        );\n      } catch (error) {\n        errorMessage(\n          'Request must be made with tracelevel ≥ 4',\n          'Failed to transform response to Jaeger format'\n        );\n      }\n    } catch (error) {\n      errorMessage(error.message);\n    }\n  };\n\n  return (\n    <Button\n      {...props}\n      leftIcon={<Icon name=\"download\" />}\n      onClick={handleClick}\n      disabled={!(response?.length > 0)}\n    >\n      Jaeger Format\n    </Button>\n  );\n}\n","import React from 'react';\nimport {\n  Badge,\n  Button,\n  Group,\n  Stack,\n  CopyButton,\n  Textarea,\n} from '@mantine/core';\nimport { DownloadJaeger } from 'app/pages/querybuilder/query-response/download-jaeger';\nimport { useQueryBuilderContext } from 'app/pages/querybuilder/context/query-builder-provider';\nimport { Icon } from 'app/components';\n\nexport function QueryResponse() {\n  const response = useQueryBuilderContext((ctx) => ctx.http.response);\n\n  return (\n    <Stack>\n      <Group position=\"apart\">\n        <Badge variant=\"filled\">Response</Badge>\n        <Group spacing=\"xs\">\n          <CopyButton value={response}>\n            {({ copied, copy }) => (\n              <Button\n                leftIcon={<Icon name={copied ? 'check' : 'copy'} />}\n                color={copied ? 'teal' : 'blue'}\n                variant=\"outline\"\n                onClick={copy}\n                size=\"xs\"\n                compact\n              >\n                Copy\n              </Button>\n            )}\n          </CopyButton>\n          <DownloadJaeger\n            variant=\"outline\"\n            size=\"xs\"\n            compact\n            response={response}\n          />\n        </Group>\n      </Group>\n      <Textarea\n        styles={(theme) => ({\n          input: {\n            fontFamily: theme.fontFamilyMonospace,\n            fontSize: theme.fontSizes.xs,\n          },\n        })}\n        value={response ?? ''}\n        variant=\"unstyled\"\n        minRows={21}\n        autosize\n      />\n    </Stack>\n  );\n}\n","import React from 'react';\nimport { Select, TextInput, Button } from '@mantine/core';\nimport { errorMessage } from 'app/libs/notification';\nimport {\n  ACTION,\n  dispatch,\n  useQueryBuilderContext,\n} from 'app/pages/querybuilder/context/query-builder-provider';\nimport { Container, Content } from 'app/components';\n\nfunction send(event, method, url, body) {\n  event.preventDefault();\n  dispatch(ACTION.SET_HTTP, { loading: true });\n  fetch(url, {\n    method,\n    headers: { 'Content-Type': 'application/json;charset=utf-8' },\n    body,\n  })\n    .then((response) => response.json())\n    .then((result) =>\n      dispatch(ACTION.SET_HTTP, {\n        response: JSON.stringify(result, null, 4),\n      })\n    )\n    .catch((error) => {\n      errorMessage(error.message);\n      dispatch(ACTION.SET_HTTP, {});\n    });\n}\n\nexport default function QueryEndpoint() {\n  const { method, url, fullUrl, body } = useQueryBuilderContext('request');\n  const hasError = useQueryBuilderContext((ctx) => ctx.query.error != null);\n  const loading = useQueryBuilderContext((ctx) => ctx.http.loading);\n\n  return (\n    <Content>\n      <form onSubmit={(event) => send(event, method, fullUrl, body)}>\n        <Container sx={{ gridTemplateColumns: 'max-content auto max-content' }}>\n          <Select\n            data={['POST', 'GET']}\n            onChange={(value) => dispatch(ACTION.SET_METHOD, value)}\n            value={method}\n            radius={0}\n          />\n          <TextInput\n            onChange={(e) => dispatch(ACTION.SET_URL, e.currentTarget.value)}\n            value={url}\n            radius={0}\n          />\n          <Button\n            radius={0}\n            type=\"submit\"\n            loading={loading}\n            disabled={hasError}\n          >\n            Send\n          </Button>\n        </Container>\n      </form>\n    </Content>\n  );\n}\n","import React from 'react';\nimport { SimpleGrid, Title } from '@mantine/core';\nimport { Container, Content, Icon } from 'app/components';\nimport { QueryBuilderProvider } from 'app/pages/querybuilder/context/query-builder-provider';\nimport { QueryFilters } from 'app/pages/querybuilder/query-filters/query-filters';\nimport { QueryDerived } from 'app/pages/querybuilder/query-derived/query-derived';\nimport { QueryResponse } from 'app/pages/querybuilder/query-response/query-response';\nimport QueryEndpoint from 'app/pages/querybuilder/query-endpoint/query-endpoint';\n\nexport function QueryBuilder() {\n  return (\n    <QueryBuilderProvider>\n      <Container sx={{ rowGap: '21px' }}>\n        <Title order={2}>\n          <Icon name=\"arrows-to-dot\" /> Query Builder\n        </Title>\n        <QueryEndpoint />\n        <SimpleGrid\n          breakpoints={[{ maxWidth: 'sm', cols: 1 }]}\n          cols={3}\n          spacing=\"lg\"\n        >\n          <Content>\n            <QueryFilters />\n          </Content>\n          <Content>\n            <QueryDerived />\n          </Content>\n          <Content>\n            <QueryResponse />\n          </Content>\n        </SimpleGrid>\n      </Container>\n    </QueryBuilderProvider>\n  );\n}\n","import React, { useState } from 'react';\nimport { Stack, Textarea } from '@mantine/core';\nimport { DownloadJaeger } from 'app/pages/querybuilder/query-response/download-jaeger';\n\nexport function QueryTracer() {\n  const [response, setResponse] = useState('');\n\n  return (\n    <Stack>\n      <Textarea\n        styles={(theme) => ({\n          input: {\n            fontFamily: theme.fontFamilyMonospace,\n            fontSize: theme.fontSizes.xs,\n          },\n        })}\n        minRows={21}\n        autosize\n        value={response}\n        onChange={({ target }) => setResponse(target.value)}\n      />\n      <DownloadJaeger fullWidth response={response} />\n    </Stack>\n  );\n}\n","export const styles = (theme) => ({\n  '*, *::before, *::after': {\n    boxSizing: 'border-box',\n  },\n\n  '*': {\n    margin: '0',\n  },\n\n  html: {\n    height: '100%',\n  },\n\n  body: {\n    height: '100%',\n    WebkitFontSmoothing: 'antialiased',\n    lineHeight: theme.lineHeight,\n    background: theme.cr.getAppBackground(),\n    color: theme.cr.getHighContrastText(),\n    ...theme.fn.fontStyles(),\n  },\n\n  'img, picture, video, canvas, svg': {\n    display: 'block',\n  },\n\n  'input, button, textarea, select': {\n    font: 'inherit',\n  },\n\n  'p, h1, h2, h3, h4, h5, h6': {\n    overflowWrap: 'break-word',\n  },\n\n  '#root': {\n    height: '100%',\n    isolation: 'isolate',\n  },\n});\n","export const common = {\n  primaryShade: 6,\n  loader: 'oval',\n  white: '#fff',\n  black: '#303030',\n  defaultRadius: 'xs',\n  primaryColor: 'blue',\n  lineHeight: 1.5,\n  fontFamily: 'Lato, sans-serif',\n  shadows: {\n    xs: '0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)',\n    sm: '0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px',\n    md: '0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px',\n    lg: '0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px',\n    xl: '0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px',\n  },\n  fontSizes: { xs: 12, sm: 14, md: 16, lg: 18, xl: 20 },\n  radius: { xs: 5, sm: 8, md: 13, lg: 21, xl: 34 },\n  spacing: { xs: 5, sm: 8, md: 13, lg: 21, xl: 34 },\n  breakpoints: { xs: 576, sm: 768, md: 992, lg: 1200, xl: 1400 },\n  headings: {\n    fontFamily: 'Lato, sans-serif',\n    sizes: {\n      h1: { fontSize: '1.5rem' },\n      h2: { fontSize: '1.3333rem' },\n      h3: { fontSize: '1.125rem' },\n      h4: { fontSize: '1rem' },\n      h5: { fontSize: '0.9375rem' },\n      h6: { fontSize: '0.875rem' },\n    },\n  },\n  other: {},\n  datesLocale: 'en',\n  fn: {},\n};\n","export const components = {\n  AppShell: {\n    styles: () => ({\n      main: {\n        maxWidth: '1920px',\n        margin: '0 auto',\n      },\n    }),\n  },\n};\n","export const commonColors = {\n  gray: [\n    '#fcfcfc',\n    '#f8f8f8',\n    '#f3f3f3',\n    '#ededed',\n    '#e8e8e8',\n    '#e2e2e2',\n    '#8f8f8f',\n    '#858585',\n    '#6f6f6f',\n    '#171717',\n  ],\n  red: [\n    '#fffcfc',\n    '#fff8f8',\n    '#ffefef',\n    '#ffe5e5',\n    '#fdd8d8',\n    '#f9c6c6',\n    '#e5484d',\n    '#dc3d43',\n    '#cd2b31',\n    '#381316',\n  ],\n  pink: [\n    '#fffcfe',\n    '#fff7fc',\n    '#feeef8',\n    '#fce5f3',\n    '#f9d8ec',\n    '#f3c6e2',\n    '#d6409f',\n    '#d23197',\n    '#cd1d8d',\n    '#3b0a2a',\n  ],\n  grape: [\n    '#fefcfe',\n    '#fdfaff',\n    '#f9f1fe',\n    '#f3e7fc',\n    '#eddbf9',\n    '#e3ccf4',\n    '#8e4ec6',\n    '#8445bc',\n    '#793aaf',\n    '#2b0e44',\n  ],\n  violet: [\n    '#fdfcfe',\n    '#fbfaff',\n    '#f5f2ff',\n    '#ede9fe',\n    '#e4defc',\n    '#d7cff9',\n    '#6e56cf',\n    '#644fc1',\n    '#5746af',\n    '#20134b',\n  ],\n  indigo: [\n    '#fdfdfe',\n    '#f8faff',\n    '#f0f4ff',\n    '#e6edfe',\n    '#d9e2fc',\n    '#c6d4f9',\n    '#3e63dd',\n    '#3a5ccc',\n    '#3451b2',\n    '#101d46',\n  ],\n  blue: [\n    '#f5fbff',\n    '#feffff',\n    '#edf8ff',\n    '#e1f4ff',\n    '#ceecfe',\n    '#b7e0f8',\n    '#00598c',\n    '#00507e',\n    '#00436a',\n    '#002033',\n  ],\n  cyan: [\n    '#fafdfe',\n    '#f2fcfd',\n    '#e7f9fb',\n    '#d8f3f6',\n    '#c4eaef',\n    '#aadee6',\n    '#05a2c2',\n    '#0894b3',\n    '#0c7792',\n    '#04313c',\n  ],\n  teal: [\n    '#fafefd',\n    '#f1fcfa',\n    '#e7f9f5',\n    '#d9f3ee',\n    '#c7ebe5',\n    '#afdfd7',\n    '#12a594',\n    '#0e9888',\n    '#067a6f',\n    '#10302b',\n  ],\n  green: [\n    '#fbfefc',\n    '#f2fcf5',\n    '#e9f9ee',\n    '#ddf3e4',\n    '#ccebd7',\n    '#b4dfc4',\n    '#30a46c',\n    '#299764',\n    '#18794e',\n    '#153226',\n  ],\n  lime: [\n    '#fcfdfa',\n    '#f7fcf0',\n    '#eefadc',\n    '#e4f7c7',\n    '#d7f2b0',\n    '#c9e894',\n    '#99d52a',\n    '#93c926',\n    '#5d770d',\n    '#263209',\n  ],\n  yellow: [\n    '#fdfdf9',\n    '#fffce8',\n    '#fffbd1',\n    '#fff8bb',\n    '#fef2a4',\n    '#f9e68c',\n    '#f5d90a',\n    '#f7ce00',\n    '#946800',\n    '#35290f',\n  ],\n  orange: [\n    '#fefcfb',\n    '#fef8f4',\n    '#fff1e7',\n    '#ffe8d7',\n    '#ffdcc3',\n    '#ffcca7',\n    '#f76808',\n    '#ed5f00',\n    '#bd4b00',\n    '#451e11',\n  ],\n};\n","import { common } from 'app/styles/theme/common';\nimport { components } from 'app/styles/theme/components';\nimport { commonColors } from 'app/styles/theme/common-colors';\n\nexport const getTheme = () => {\n  return { ...common, components, colors: commonColors };\n};\n","import React from 'react';\nimport { Global, MantineProvider } from '@mantine/core';\nimport { Colors } from 'app/styles/theme/colors';\nimport { styles } from 'app/styles/global';\nimport { getTheme } from 'app/styles/theme';\n\nfunction setColorResolver(theme) {\n  if (!theme.cr) theme.cr = new Colors(theme);\n  return theme;\n}\n\nexport function ThemeProvider({ children }) {\n  return (\n    <MantineProvider theme={getTheme()}>\n      <Global styles={(theme) => styles(setColorResolver(theme))} />\n      {children}\n    </MantineProvider>\n  );\n}\n","import React from 'react';\nimport { Routes, Route, useParams, Navigate } from 'react-router-dom';\nimport { Error } from 'app/components';\n\nconst mainTitle = 'Vespa App';\n\nfunction TitledRoute({ element, title, default: isDefault, ...props }) {\n  const params = useParams();\n  const clone = React.cloneElement(element, Object.assign(props, params));\n  if (title != null) {\n    const titleStr = typeof title === 'function' ? title(params) : title;\n    document.title = titleStr.endsWith(mainTitle)\n      ? titleStr\n      : `${titleStr} - ${mainTitle}`;\n  } else if (isDefault) {\n    // Reset the title if title is not set and this is a default router\n    document.title = mainTitle;\n  }\n\n  return clone;\n}\n\nexport function Router({ children }) {\n  // If there is only one route then this comes as an object.\n  if (!Array.isArray(children)) children = [children];\n  children = children.filter(({ props }) => props.enabled ?? true);\n\n  if (!children.some((child) => child.props.default))\n    children.push(<Error code={404} default />);\n\n  return (\n    <Routes>\n      {children.map(({ props, ...element }, i) => (\n        <Route\n          key={`${i}-${props.path}`}\n          path={props.default ? '*' : props.path}\n          element={\n            element.type === Redirect ? (\n              Object.assign({ props }, element)\n            ) : (\n              <TitledRoute element={element} {...props} />\n            )\n          }\n        />\n      ))}\n    </Routes>\n  );\n}\n\nexport function Redirect({ to, replace }) {\n  return <Navigate {...{ to, replace }} />;\n}\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { NotificationsProvider as MantineNotificationsProvider } from '@mantine/notifications';\nimport { Layout } from 'app/components';\nimport { Home } from 'app/pages/home/home';\nimport { QueryBuilder } from 'app/pages/querybuilder';\nimport { QueryTracer } from 'app/pages/querytracer/query-tracer';\nimport { ThemeProvider } from 'app/libs/theme-provider';\nimport { Router } from 'app/libs/router';\n\nexport function App() {\n  return (\n    <BrowserRouter>\n      <ThemeProvider>\n        <MantineNotificationsProvider>\n          <Layout>\n            <Router>\n              <Home path=\"/\" title=\"Home\" />\n              <QueryBuilder path=\"querybuilder\" title=\"Query Builder\" />\n              <QueryTracer path=\"querytracer\" title=\"Query Tracer\" />\n            </Router>\n          </Layout>\n        </MantineNotificationsProvider>\n      </ThemeProvider>\n    </BrowserRouter>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { App } from 'app/app';\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["getMessage","code","location","Error","message","Center","VespaLogo","HeaderLogo","jsx","Link","Image","Header","MantineHeader","theme","Layout","children","AppShell","Container","sx","props","Box","Content","transparent","withBorder","padding","borderStyle","stack","Wrapper","Stack","Paper","isInternalLink","link","to","api","internal","Anchor","InternalLink","fixedProps","CardLink","minHeight","minWidth","library","faArrowsToDot","faChartGantt","faCircleMinus","faPlus","faPaste","faDownload","faCopy","faCheck","faXmark","faInfo","faExclamation","Icon","name","type","color","rest","icon","FontAwesomeIcon","Home","Space","jsxs","SimpleGrid","param","child","parameters","_dispatch","root","context","createContext","ACTION","cloneParams","params","inputsToQuery","method","inputs","inputsToJson","parent","value","parseInput","inputsToSearchParams","acc","key","queryToInputs","query","jsonToInputs","json","set","i","node","inputAdd","parentId","typeName","cloned","findInput","nextId","last","id","_c","inputUpdate","newType","_a","Delete","end","input","index","reducer","state","action","s","data","result","preReducer","sr","sp","sq","rr","rp","rq","url","error","QueryBuilderProvider","dispatch","useReducer","useQueryBuilderContext","selector","useContextSelector","c","SHADE","Colors","variant","AddProperty","Button","Property","types","Select","TextInput","event","Value","Switch","range","Input","Fragment","ActionIcon","Inputs","usedTypes","remainingTypes","firstRemaining","QueryFilters","Group","Badge","QueryDerived","CopyButton","copied","copy","Textarea","target","getStyles","commonMessage","title","showNotification","errorMessage","genRanHex","size","traceID","output","processes","processMap","traceStartTimestamp","processID","transform","trace","temp","spans","digDownInTrace","findTraceStartTime","firstSpan","createNewSpan","totalDuration","findTotalDuration","traverseSpans","traverseChildren","span","logSpan","duration","x","findProcessName","processKey","getProcess","createProtonSpans","logPointDuration","findDuration","addLogSpan","logPointStart","parentID","startTimestamp","newSpan","traces","k","traceTimestamp","events","firstEvent","getProcessID","traverseQueryExecution","nextTrace","childSpan","traverseEvents","spanID","threads","eventStart","operationName","eventSpan","getTraceStartTime","timestamp","currentTimestamp","startTime","references","string","regex","match","downloadFile","filename","blob","href","DownloadJaeger","response","handleClick","content","QueryResponse","ctx","send","body","QueryEndpoint","fullUrl","hasError","loading","e","QueryBuilder","Title","QueryTracer","setResponse","useState","styles","common","components","commonColors","getTheme","setColorResolver","ThemeProvider","MantineProvider","Global","mainTitle","TitledRoute","element","isDefault","useParams","clone","React","titleStr","Router","Routes","Route","Redirect","replace","Navigate","App","BrowserRouter","MantineNotificationsProvider","ReactDOM"],"mappings":"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aC,GAAe,CAC1B,KAAM,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,IAAK,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,KAAM,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,MAAO,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,KAAM,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,KAAM,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,KAAM,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,MAAO,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,KAAM,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,EACD,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACD,CACH,ECzJaC,GAAW,KACf,CAAE,GAAGH,GAAQ,WAAAC,GAAY,OAAQC,EAAY,GCCtD,SAASE,GAAiB3O,EAAO,CAC/B,OAAKA,EAAM,KAAUA,EAAA,GAAK,IAAIqH,GAAOrH,CAAK,GACnCA,CACT,CAEgB,SAAA4O,GAAc,CAAE,SAAA1O,GAAY,CAC1C,OACG+C,EAAAA,KAAA4L,GAAA,CAAgB,MAAOH,GAAA,EACtB,SAAA,CAAC/O,MAAAmP,GAAA,CAAO,OAAS9O,GAAUsO,GAAOK,GAAiB3O,CAAK,CAAC,EAAG,EAC3DE,CACH,CAAA,CAAA,CAEJ,CCdA,MAAM6O,EAAY,YAElB,SAASC,GAAY,CAAE,QAAAC,EAAS,MAAA9F,EAAO,QAAS+F,EAAW,GAAG5O,GAAS,CACrE,MAAMsD,EAASuL,KACTC,EAAQC,GAAM,aAAaJ,EAAS,OAAO,OAAO3O,EAAOsD,CAAM,CAAC,EACtE,GAAIuF,GAAS,KAAM,CACjB,MAAMmG,EAAW,OAAOnG,GAAU,WAAaA,EAAMvF,CAAM,EAAIuF,EAC/D,SAAS,MAAQmG,EAAS,SAASP,CAAS,EACxCO,EACA,GAAGA,OAAcP,SACZG,IAET,SAAS,MAAQH,GAGZ,OAAAK,CACT,CAEgB,SAAAG,GAAO,CAAE,SAAArP,GAAY,CAE/B,OAAC,MAAM,QAAQA,CAAQ,IAAGA,EAAW,CAACA,CAAQ,GACvCA,EAAAA,EAAS,OAAO,CAAC,CAAE,MAAAI,KAAYA,EAAM,SAAW,EAAI,EAE1DJ,EAAS,KAAMkD,GAAUA,EAAM,MAAM,OAAO,GAC/ClD,EAAS,KAAMP,EAAA,IAAAL,GAAA,CAAM,KAAM,IAAK,QAAO,EAAC,CAAA,CAAE,EAG1CK,MAAC6P,GACE,CAAA,SAAAtP,EAAS,IAAI,CAAC,CAAE,MAAAI,EAAO,GAAG2O,CAAQ,EAAGrK,IACpCjF,EAAA,IAAC8P,GAAA,CAEC,KAAMnP,EAAM,QAAU,IAAMA,EAAM,KAClC,QACE2O,EAAQ,OAASS,GACf,OAAO,OAAO,CAAE,MAAApP,CAAM,EAAG2O,CAAO,EAEhCtP,EAAAA,IAACqP,GAAY,CAAA,QAAAC,EAAmB,GAAG3O,EAAO,CAAA,EANzC,GAAGsE,KAAKtE,EAAM,MAUtB,CAAA,CACH,CAAA,CAEJ,CAEO,SAASoP,GAAS,CAAE,GAAAvO,EAAI,QAAAwO,GAAW,CACxC,aAAQC,GAAU,CAAK,GAAAzO,EAAI,QAAAwO,CAAW,CAAA,CACxC,CCzCO,SAASE,IAAM,CAElB,OAAAlQ,EAAAA,IAACmQ,IACC,SAACnQ,EAAAA,IAAAiP,GAAA,CACC,eAACmB,GACC,CAAA,SAAApQ,EAAA,IAACM,GACC,CAAA,SAAAgD,OAACsM,GACC,CAAA,SAAA,CAAA5P,EAAA,IAACoD,GAAK,CAAA,KAAK,IAAI,MAAM,OAAO,EAC3BpD,EAAA,IAAAsO,GAAA,CAAa,KAAK,eAAe,MAAM,gBAAgB,EACvDtO,EAAA,IAAAwO,GAAA,CAAY,KAAK,cAAc,MAAM,eAAe,CACvD,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CACF,CAAA,CACF,CAAA,CAEJ,CCtBA6B,GAAS,WAAW,SAAS,eAAe,MAAM,CAAC,EAAE,aAClDX,GAAM,WAAN,CACC,SAAA1P,EAAAA,IAACkQ,IAAI,CAAA,EACP,CACF"}